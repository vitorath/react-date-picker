{"ast":null,"code":"var _jsxFileName = \"/home/vitor/Documents/deletar/src/App.js\";\nimport React, { useRef, useCallback } from 'react';\nimport './App.css';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport moment from 'moment';\n\nfunction updateMonthCaseLeap(year) {\n  if (this.id !== 2) {\n    return;\n  }\n\n  if (year % 4 === 0 || year % 100 === 0 && year % 400 === 0) {\n    this.amountDays = 29;\n  } else {\n    this.amountDays = 28;\n  }\n\n  ;\n}\n\nfunction App() {\n  const datePickerElement = useRef();\n  const datesElement = useRef();\n  const monthElement = useRef();\n  const nextMonthElement = useRef();\n  const prevMonthElement = useRef();\n  const daysElement = useRef();\n  const [months] = useState([{\n    id: 1,\n    name: 'Janeiro',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 2,\n    name: 'Fevereiro',\n    amountDays: 28,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 3,\n    name: 'Março',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 4,\n    name: 'Abril',\n    amountDays: 30,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 5,\n    name: 'Maio',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 6,\n    name: 'Junho',\n    amountDays: 30,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 7,\n    name: 'Julho',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 8,\n    name: 'Agosto',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 9,\n    name: 'Setembro',\n    amountDays: 30,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 10,\n    name: 'Outubro',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 11,\n    name: 'Novembro',\n    amountDays: 30,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }, {\n    id: 12,\n    name: 'Dezembro',\n    amountDays: 31,\n    updateMonthCaseLeap: updateMonthCaseLeap\n  }]);\n  const [date, setDate] = useState(state => {\n    let date = new Date();\n    return {\n      date,\n      day: date.getDate(),\n      month: date.getMonth(),\n      year: date.getFullYear()\n    };\n  });\n  let selectedDate = date.date;\n  let selectedDay = date.day;\n  let selectedMonth = date.month;\n  let selectedYear = date.year;\n  const formatDate = useCallback(date => {\n    let day = date.getDate();\n\n    if (day < 10) {\n      day = '0' + day;\n    }\n\n    let month = date.getMonth() + 1;\n\n    if (month < 10) {\n      month = '0' + month;\n    }\n\n    const year = date.getFullYear();\n    return `${day} / ${month} / ${year}`;\n  }, []);\n\n  const populateDates = () => {\n    const currentMonth = months[date.month];\n    currentMonth.updateMonthCaseLeap(date.year);\n    const nextDateMonth = new Date(`${date.year}-${date.month + 2}-01 00:00`);\n    nextDateMonth.setDate(nextDateMonth.getDate() - 1);\n    const lastDateMonth = new Date(`${date.year}-${date.month + 1}-01 00:00`);\n    lastDateMonth.setDate(lastDateMonth.getDate() - 1);\n    let datesContainer = [];\n\n    for (let index = 0; index < lastDateMonth.getDay() + 1; index++) {\n      datesContainer.push(React.createElement(\"div\", {\n        key: index + Math.random(),\n        className: \"day another-day\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, lastDateMonth.getDate() + index - lastDateMonth.getDay()));\n    }\n\n    for (let index = 0; index < currentMonth.amountDays; index++) {\n      const isSelectedDay = selectedDay === index + 1 && selectedMonth === date.month && selectedYear === date.year;\n      const selectedClass = isSelectedDay ? 'selected' : '';\n      datesContainer.push(React.createElement(\"div\", {\n        key: index + Math.random(),\n        className: `day ${selectedClass}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, index + 1));\n    }\n\n    if (nextDateMonth.getDay() < 6) {\n      console.log(nextDateMonth.getDay() - 6, nextDateMonth);\n\n      for (let index = 0; index < Math.abs(nextDateMonth.getDay() - 6); index++) {\n        datesContainer.push(React.createElement(\"div\", {\n          key: index + Math.random(),\n          className: \"day another-day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, index + 1));\n      }\n    }\n\n    return datesContainer;\n  };\n\n  const toggleDatePicker = useCallback(e => {\n    if (!e.target.closest('.dates')) {\n      datesElement.current.classList.toggle('active');\n    }\n  }, []);\n  const goToNextMonth = useCallback(event => {\n    setDate(state => {\n      const returnedDate = { ...state\n      };\n      returnedDate.month += 1;\n\n      if (returnedDate.month > 11) {\n        returnedDate.month = 0;\n        returnedDate.year += 1;\n      }\n\n      return returnedDate;\n    });\n  }, []);\n  const goToPrevMonth = useCallback(event => {\n    setDate(state => {\n      const returnedDate = { ...state\n      };\n      returnedDate.month -= 1;\n\n      if (returnedDate.month < 0) {\n        returnedDate.month = 11;\n        returnedDate.year -= 1;\n      }\n\n      return returnedDate;\n    });\n  }, []);\n  useEffect(() => {\n    monthElement.current.textContent = `${months[date.month].name} ${date.year}`;\n  }, [date.month, date.year, months]);\n  return React.createElement(\"div\", {\n    className: \"date-picker\",\n    ref: datePickerElement,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"selected-date\",\n    onClick: toggleDatePicker,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"30/01/2020\"), React.createElement(\"div\", {\n    className: \"dates\",\n    ref: datesElement,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"month\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"arrows prev-month\",\n    ref: prevMonthElement,\n    onClick: goToPrevMonth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"<\"), React.createElement(\"div\", {\n    className: \"label-month\",\n    ref: monthElement,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"February\"), React.createElement(\"div\", {\n    className: \"arrows next-month\",\n    ref: nextMonthElement,\n    onClick: goToNextMonth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \">\")), React.createElement(\"div\", {\n    className: \"days\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, populateDates())));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/vitor/Documents/deletar/src/App.js"],"names":["React","useRef","useCallback","useEffect","useState","moment","updateMonthCaseLeap","year","id","amountDays","App","datePickerElement","datesElement","monthElement","nextMonthElement","prevMonthElement","daysElement","months","name","date","setDate","state","Date","day","getDate","month","getMonth","getFullYear","selectedDate","selectedDay","selectedMonth","selectedYear","formatDate","populateDates","currentMonth","nextDateMonth","lastDateMonth","datesContainer","index","getDay","push","Math","random","isSelectedDay","selectedClass","console","log","abs","toggleDatePicker","e","target","closest","current","classList","toggle","goToNextMonth","event","returnedDate","goToPrevMonth","textContent"],"mappings":"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","sourcesContent":["import React, { useRef, useCallback } from 'react';\nimport './App.css';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport moment from 'moment';\n\n\nfunction updateMonthCaseLeap(year) {\n  if (this.id !== 2) {\n    return;\n  }\n  if (year % 4 === 0 || (year % 100 === 0 && year % 400 === 0)) {\n    this.amountDays = 29;\n  } else {\n    this.amountDays = 28;\n  };\n}\n\nfunction App() {\n  const datePickerElement = useRef();\n  const datesElement = useRef();\n  const monthElement = useRef();\n  const nextMonthElement = useRef();\n  const prevMonthElement = useRef();\n  const daysElement = useRef();\n\n  const [months] = useState([\n    { id: 1, name: 'Janeiro', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 2, name: 'Fevereiro', amountDays: 28, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 3, name: 'Março', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 4, name: 'Abril', amountDays: 30, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 5, name: 'Maio', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 6, name: 'Junho', amountDays: 30, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 7, name: 'Julho', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 8, name: 'Agosto', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 9, name: 'Setembro', amountDays: 30, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 10, name: 'Outubro', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 11, name: 'Novembro', amountDays: 30, updateMonthCaseLeap: updateMonthCaseLeap },\n    { id: 12, name: 'Dezembro', amountDays: 31, updateMonthCaseLeap: updateMonthCaseLeap },\n  ])\n\n  const [date, setDate] = useState(state => {\n    let date = new Date();\n    return { date, day: date.getDate(), month: date.getMonth(), year: date.getFullYear() }\n  })\n\n  let selectedDate = date.date;\n  let selectedDay = date.day;\n  let selectedMonth = date.month;\n  let selectedYear = date.year;\n\n  const formatDate = useCallback(\n    (date) => {\n      let day = date.getDate();\n      if (day < 10) {\n        day = '0' + day;\n      }\n      let month = date.getMonth() + 1;\n      if (month < 10) {\n        month = '0' + month;\n      }\n      const year = date.getFullYear();\n      return `${day} / ${month} / ${year}`;\n    },\n    [],\n  );\n\n\n\n  const populateDates = () => {\n    const currentMonth = months[date.month];\n    currentMonth.updateMonthCaseLeap(date.year);\n\n    const nextDateMonth = new Date(`${date.year}-${date.month + 2}-01 00:00`);\n    nextDateMonth.setDate(nextDateMonth.getDate() - 1);\n\n    const lastDateMonth = new Date(`${date.year}-${date.month + 1}-01 00:00`);\n\n    lastDateMonth.setDate(lastDateMonth.getDate() - 1);\n\n\n    let datesContainer = [];\n    for (let index = 0; index < lastDateMonth.getDay() + 1; index++) {\n      datesContainer.push(<div key={index + Math.random()} className=\"day another-day\">{lastDateMonth.getDate() + index - lastDateMonth.getDay()}</div>)\n    }\n\n    for (let index = 0; index < currentMonth.amountDays; index++) {\n      const isSelectedDay = (\n        selectedDay === (index + 1) &&\n        selectedMonth === date.month &&\n        selectedYear === date.year\n      );\n      const selectedClass = isSelectedDay ? 'selected' : '';\n      datesContainer.push(<div key={index + Math.random()} className={`day ${selectedClass}`}>{index + 1}</div>);\n    }\n\n\n    if (nextDateMonth.getDay() < 6) {\n      console.log(nextDateMonth.getDay() - 6, nextDateMonth)\n      for (let index = 0; index < Math.abs(nextDateMonth.getDay() - 6); index++) {\n        datesContainer.push(<div key={index + Math.random()} className=\"day another-day\">{index + 1}</div>)\n      }\n    }\n\n\n\n    return datesContainer;\n  }\n\n  const toggleDatePicker = useCallback(\n    (e) => {\n      if (!e.target.closest('.dates')) {\n        datesElement.current.classList.toggle('active')\n      }\n    },\n    [],\n  );\n\n  const goToNextMonth = useCallback(\n    (event) => {\n      setDate(state => {\n        const returnedDate = { ...state };\n        returnedDate.month += 1;\n        if (returnedDate.month > 11) {\n          returnedDate.month = 0;\n          returnedDate.year += 1;\n        }\n        return returnedDate;\n      })\n\n    },\n    [],\n  );\n\n  const goToPrevMonth = useCallback(\n    (event) => {\n      setDate(state => {\n        const returnedDate = { ...state };\n        returnedDate.month -= 1;\n        if (returnedDate.month < 0) {\n          returnedDate.month = 11;\n          returnedDate.year -= 1;\n        }\n        return returnedDate;\n      })\n    },\n    [],\n  );\n\n  useEffect(() => {\n    monthElement.current.textContent = `${months[date.month].name} ${date.year}`;\n  }, [date.month, date.year, months])\n\n  return (\n    <div className=\"date-picker\" ref={datePickerElement}>\n      <div className=\"selected-date\" onClick={toggleDatePicker}>30/01/2020</div>\n      <div className=\"dates\" ref={datesElement}>\n        <div className=\"month\">\n          <div className=\"arrows prev-month\" ref={prevMonthElement} onClick={goToPrevMonth}>&lt;</div>\n          <div className=\"label-month\" ref={monthElement}>February</div>\n          <div className=\"arrows next-month\" ref={nextMonthElement} onClick={goToNextMonth}>&gt;</div>\n        </div>\n        <div className=\"days\">\n          {populateDates()}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}